spring.application.name=template-backend
server.port=8080
server.address=0.0.0.0

# Data base H2 (example)
#spring.datasource.url=jdbc:h2:mem:testdb
#spring.datasource.driver-class-name=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=
#spring.jpa.hibernate.ddl-auto=update
#spring.h2.console.enabled=true

Data base MySQL
spring.datasource.url=jdbc:mysql://localhost:3306/DATABASENAME?useSSL=false&serverTimezone=UTC
spring.datasource.username=USERNAME ------
spring.datasource.password=PASSWORD ------

#Driver MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# JWT
security.jwt.secret=change-me-very-long-256bit-secret-key-please-change-me
security.jwt.issuer=http://localhost:8080
security.jwt.audience=frontend
security.jwt.clock-skew-seconds=30

# =========================
# Mail (SMTP)
# =========================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=EMAIL -----
spring.mail.password=EMAILPASSWORD -----
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Sender and subject
app.mail.from=EMAIL ----
app.mail.reset.subject=Reset your password

# Frontend reset link
app.front.reset-url=http://localhost:8081/reset-password

# =========================
# Rate limiter (forgot-password)
# =========================
# 1-hour window
app.limiter.forgot.window-seconds=3600
# Max 3 requests per email within the window
app.limiter.forgot.max-per-email=3
# Max 5 requests per IP within the window
app.limiter.forgot.max-per-ip=5

# =========================
# Token cleanup
# =========================
# Enable scheduling
spring.task.scheduling.pool.size=2
# Cron to delete expired tokens (every 15 minutes)
app.password-reset.cleanup.cron=0 */15 * * * *
# Retention for already-used tokens, in days (delete after this)
app.password-reset.cleanup.used-retention-days=1